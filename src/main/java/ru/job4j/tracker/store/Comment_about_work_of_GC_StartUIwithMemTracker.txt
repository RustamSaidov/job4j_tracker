StartUIwithMemTracker - Класс, созданный для демонстрации работы сборщиков мусора и попыток переполнения "кучи".
Конфигурация для размера памяти кучи и сборщика мусора: -XX:+UseSerialGC -Xmx50m -Xms50m
то есть используется однопоточный сборщик мусора, а размер "Кучи" составляет 50 мегабайт.
За каждую итерацию мы будем добавлять или удалять 1 миллион случайных объектов типа Item.
Для анализа работы программы мы будем использовать приложение jconsole.

Запускаем программу StartUIwithMemTracker.
На рисунке 1 видим, что при запуске программы у нас в куче стало занято около 5 мегабайт места,
процессор в короткие моменты был занят до 1%.
Создадим 100 000 случайных обьектов типа Item.
На рисунке 2 видим, что размер занятой памяти в куче увеличился до 25 Мб.
Процессор на короткий момент оказался загружен на 3%.
Удалим все элементы из списка (то есть 100 000 объектов).
На рисунке 3 мы видим, что размер занятого места в куче незначительно увеличился. Очевидно, что сборщик мусора
еще не прошелся по ссылкам, чтобы удалить объекты, на которые ничего не ссылается.
Подождем несколько минут и на рисунке 4 увидим, что занятая память в куче сначала выросла до 35 Мб,
а потом очистилась до 25 Мб. Так повторилось дважды.
Попробуем переполнить кучу.
Создадим еще 300 000 случайных объектов.
На рисунке 5 из-за резкого создания новых обьектов не успело запечатлеться, что Куча заполнилась до своего предела(50 Мб), после чего произошел обрыв соединения в jconsole.
На рисунке 6 видим, что мы получили ожидаемую ошибку: OutOfMemoryError: Java Heap space.




